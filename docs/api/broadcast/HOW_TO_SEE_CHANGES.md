# 🔍 변화 확인 방법

## ⚠️ 중요: 기존 파일 vs 새 파일

### 현재 상태

**기존 파일들 (변화 없음):**
- `broadcast_2025-11-20_10-11-11.wav`
- `broadcast_2025-11-20_10-25-48.mp3`
- `broadcast_2025-11-20_10-48-03.mp3`

**특징:**
- `broadcast_`로 시작하는 파일
- 스케줄 이름이 없음
- 파일명 그대로 표시됨

**새로 생성될 파일들 (변화 있음):**
- `8시테스트_2025-11-20_10-11-11.wav` ← 스케줄 이름 포함!
- 스케줄 이름이 파일명에 포함됨
- 플레이어에 스케줄 이름으로 표시됨

---

## 📋 변화를 보려면

### 방법 1: 새 스케줄 생성 (권장)

1. **웹 서비스에서 스케줄 생성**
   - 스케줄 관리 페이지 열기
   - 새 스케줄 생성 버튼 클릭
   - 스케줄 이름 입력: "8시테스트"
   - 음원 선택 및 시간 설정
   - 저장

2. **자동 송출 대기**
   - 설정된 시간에 자동으로 오디오 전송
   - 파일명: `8시테스트_2025-11-20_10-11-11.wav`

3. **플레이어에서 확인**
   - 오디오 목록에 "8시테스트"로 표시됨
   - 파일명은 작은 글씨로 표시됨

### 방법 2: 디버깅 정보 확인

**`debug-list.php` 실행:**
```
https://nanum.online/tts/api/broadcast/debug-list.php
```

**확인 사항:**
- 각 파일의 `schedule_name` 필드
- `extraction_method` 필드
- `potential_schedule_name` 필드

---

## ✅ 확인 체크리스트

### 1. Edge Function 재배포

```bash
npx supabase functions deploy execute-schedules
```

**확인:**
- `execute-schedules` 함수가 스케줄 이름을 헤더로 전송하는지

### 2. 파일 업로드

**확인:**
- `index.php` - 최신 버전 업로드 확인
- `list.php` - 최신 버전 업로드 확인
- `player-pc.html` - 최신 버전 업로드 확인

### 3. 새 스케줄 생성

**확인:**
- 웹 서비스에서 새 스케줄 생성
- 스케줄 이름이 파일명에 포함되는지
- `list.php`에서 스케줄 이름이 추출되는지

---

## 🔍 변화 확인 방법

### 1. `list.php` 확인

```
https://nanum.online/tts/api/broadcast/list.php
```

**기존 파일:**
```json
{
    "filename": "broadcast_2025-11-20_10-11-11.wav",
    "schedule_name": null,
    "display_name": "broadcast_2025-11-20_10-11-11.wav"
}
```

**새 파일:**
```json
{
    "filename": "8시테스트_2025-11-20_10-11-11.wav",
    "schedule_name": "8시테스트",
    "display_name": "8시테스트"
}
```

### 2. 플레이어 확인

**기존 파일:**
- 큰 글씨: `broadcast_2025-11-20_10-11-11.wav`
- 작은 글씨: 없음

**새 파일:**
- 큰 글씨: `8시테스트`
- 작은 글씨: `8시테스트_2025-11-20_10-11-11.wav`

---

## 📝 요약

### 변화가 없는 이유

- **기존 파일들은 `broadcast_...` 형식**
- 스케줄 이름이 없음
- 파일명 그대로 표시됨

### 변화를 보려면

1. **새 스케줄 생성**
2. **자동 송출 대기**
3. **플레이어에서 확인**

---

**새 스케줄을 생성하면 스케줄 이름이 표시됩니다!** 🚀

