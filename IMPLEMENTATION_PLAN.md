# 🚀 태블릿 PC 방송 송출 구현 계획

## 📋 현재 상황 분석

### ✅ 구현된 부분

1. **웹 서비스 (관리자)**
   - ✅ 스케줄 생성 및 관리 (`ScheduleManagerPage`)
   - ✅ 채널 설정 (`SendSetupPage`)
   - ✅ 음원 생성 및 저장

2. **자동 실행 시스템**
   - ✅ Supabase Edge Function (`execute-schedules`)
   - ✅ pg_cron으로 1분마다 자동 실행
   - ✅ 스케줄 확인 및 오디오 전송

3. **엔드포인트 서버**
   - ✅ Hostinger 서버에 PHP 엔드포인트 설정
   - ✅ POST 요청으로 오디오 데이터 수신
   - ✅ 오디오 파일 저장 (`audio/` 폴더)

### ❌ 부족한 부분

1. **재생 대기열 관리**
   - ❌ 재생 대기 오디오 목록 저장 시스템 없음
   - ❌ 태블릿 PC가 확인할 수 있는 API 없음

2. **태블릿 PC 플레이어**
   - ❌ 태블릿 PC용 플레이어 앱/웹페이지 없음
   - ❌ 자동 재생 시스템 없음

---

## 🎯 구현 목표

### 목표 시나리오

1. **관리자 (웹 서비스)**
   - 스케줄 생성 → 채널 선택 (태블릿 PC 채널)

2. **시스템 (자동)**
   - 설정된 시간에 오디오 전송 → 서버 저장
   - 재생 대기열에 추가

3. **태블릿 PC (자동)**
   - 주기적으로 재생 대기 오디오 확인
   - 새로운 오디오 발견 시 자동 재생
   - 방송 장비로 출력

---

## 📝 구현 방법

### 방법 1: 간단한 파일 기반 방식 (빠른 구현)

태블릿 PC가 서버의 `audio/` 폴더를 직접 확인하고 최신 파일을 재생

**장점:**
- ✅ 구현 간단
- ✅ 추가 데이터베이스 불필요
- ✅ 빠르게 구현 가능

**단점:**
- ⚠️ 여러 태블릿 PC에서 동시 재생 시 문제 가능
- ⚠️ 재생 완료 추적 어려움

### 방법 2: 데이터베이스 기반 방식 (권장)

Supabase에 재생 대기열 테이블을 만들어 관리

**장점:**
- ✅ 여러 태블릿 PC 지원
- ✅ 재생 완료 추적 가능
- ✅ 상태 관리 용이

**단점:**
- ⚠️ 데이터베이스 스키마 추가 필요
- ⚠️ 구현 복잡도 약간 증가

---

## 🚀 단계별 구현 계획

### 단계 1: 태블릿 PC 플레이어 생성 (간단한 방법)

**파일 기반 방식으로 빠르게 구현**

1. 태블릿 PC용 웹페이지 생성
2. 주기적으로 최신 오디오 파일 확인
3. 새로운 파일 발견 시 자동 재생

### 단계 2: 데이터베이스 확장 (향상된 방법)

1. 재생 대기열 테이블 생성
2. 서버 API 확장
3. 플레이어 개선

---

## 💡 빠른 시작 방법

### 간단한 태블릿 PC 플레이어 (즉시 사용 가능)

1. **태블릿 PC용 웹페이지 생성**
2. **최신 오디오 파일 확인**
3. **자동 재생**

이 방법으로 먼저 구현하고, 필요에 따라 데이터베이스 기반으로 확장할 수 있습니다.

---

**어떤 방법으로 진행하시겠습니까?** 🚀

1. **간단한 파일 기반 방식** - 빠르게 구현
2. **데이터베이스 기반 방식** - 더 체계적인 관리

